-- pokretanje aplikacije (da bi radili channels i websocket)
uvicorn django_heart.asgi:application --reload


-- docker pokretanje
docker compose up
(nakon toga namestiti da front moze da pogodi channels)


-- migracije tenanta
migracija samo shared_apps ne i tenant modela.
python manage.py migrate_schemas --shared

ne znam iz kog razloga sam poslednji put morao pokrenuti i ovu gore komandu kao i obicnu migrate.


--baza
08.08 trenutno se baza nalazi u pilates_db u django_heart2 bazi


payload for profile picture
{
  "file_name": "avatar.png",
  "file_type": "image/png"
}


setovanje current sceheme u kodu
# schema_name = await self.get_schema_from_tenant_id(tenant_id)  # tvoja funkcija
# await self.set_current_schema(schema_name)  # zavisi kako radi≈° multi-tenant



from django.core.cache import cache


class GetCacheTest(APIView):
    def get(self, request):
        training_sessions = self.get_training_session()
        serializer = GetActiveTrainingSessionsSerializer(training_sessions)
        return Response(serializer.data, status=status.HTTP_200_OK)